/*!
 * Miso v0.3.5
 * https://github.com/ourai/miso
 *
 * Copyright Ourai Lin, http://ourai.ws/
 *
 * Date: 2015-07-19
 */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l;d={name:"Miso",version:"0.3.5"},l={}.toString,j={validator:function(){return!0}},k={types:{}},i=function(){var a,b,c,d,e;for(b="Boolean Number String Function Array Date RegExp Object".split(" "),c=function(a){var b,c;return k.types["[object "+a+"]"]=c=a.toLowerCase(),b="Number"===a?function(a){return isNaN(a)?!1:this.type(a)===c}:function(a){return this.type(a)===c},k.methods["is"+a]=b},d=0,e=b.length;e>d;d++)a=b[d],c(a);return k.types},h=function(a,b){return null==a?!1:Object.prototype.hasOwnProperty.call(a,b)},g=function(a){var b,c,e;c="__"+d.name.toLowerCase()+"__",e=!0;try{Object.defineProperty(a,c,{__proto__:null,value:e})}catch(f){b=f,a[c]=e}return!0},f=function(a,b,c){var d;return d=k.methods,d.isArray(b)||d.isPlainObject(b)&&!d.isArray(b.handlers)?d.each(b,function(a){return f(null!=a?a.handlers:void 0,a,c)}):d.isPlainObject(b)&&d.isArray(b.handlers)&&d.each(a,function(a){return e(a,b,c)}),c},e=function(a,b,c){var d,e,f,g,i,l,m,n,o;if(g=a.name,f=k.methods,a.expose!==!1&&!f.isFunction(c[g])){for(d=a.handler,m=h(a,"value")?a.value:b.value,l=[a.validator,b.validator,j.validator,function(){return!0}],n=0,o=l.length;o>n&&(i=l[n],!f.isFunction(i));n++);e=function(){return f.isFunction(d)&&i.apply(c,arguments)===!0?d.apply(c,arguments):m},c[g]=e}return c},k.methods={mixin:function(){var a,b,c,d,e,f,g,h,i,j,k;for(a=arguments,g=a.length,k=a[0]||{},f=1,e=!1,"boolean"===this.type(k)&&(e=k,k=a[1]||{},f=2),"object"==typeof k||this.isFunction(k)||(k={}),1===g&&(k=this,f--);g>f;){if(i=a[f],null!=i)for(h in i)c=i[h],j=k[h],c!==k&&(e&&c&&(this.isPlainObject(c)||(d=this.isArray(c)))?(d?(d=!1,b=j&&this.isArray(j)?j:[]):b=j&&this.isPlainObject(j)?j:{},k[h]=this.mixin(e,b,c)):void 0!==c&&(k[h]=c));f++}return k},each:function(a,b){var c,d,e,f;if(this.isArray(a)||this.isArrayLike(a)||this.isString(a))for(d=0;d<a.length&&(c=this.isString(a)?a.charAt(d):a[d],b.apply(c,[c,d++,a])!==!1););else if(this.isObject(a)||this.isFunction(a))for(e in a)if(f=a[e],b.apply(f,[f,e,a])===!1)break;return a},type:function(a){var b;return b=0===arguments.length?null:null==a?String(a):k.types[l.call(a)]||"object"},slice:function(a,b,c){var d,e;return null==a?e=[]:(c=Number(c),d=[Number(b)||0],arguments.length>2&&!isNaN(c)&&d.push(c),e=[].slice.apply(a,d)),e},hasProp:function(a,b){return h.apply(this,[arguments.length<2?this:b,a])},isWindow:function(a){return a&&this.isObject(a)&&"setInterval"in a},isElement:function(a){return a&&this.isObject(a)&&1===a.nodeType},isNumeric:function(a){return!this.isArray(a)&&!isNaN(parseFloat(a))&&isFinite(a)},isInteger:function(a){return this.isNumeric(a)&&/^-?[1-9]\d*$/.test(a)},isPlainObject:function(a){var b,c;if(!a||!this.isObject(a)||a.nodeType||this.isWindow(a))return!1;try{if(a.constructor&&!this.hasProp("constructor",a)&&!this.hasProp("isPrototypeOf",a.constructor.prototype))return!1}catch(d){return b=d,!1}for(c in a);return void 0===c||this.hasProp(c,a)},isEmpty:function(a){var b,c;if(c=!1,null==a||""===a)c=!0;else if((this.isArray(a)||this.isArrayLike(a))&&0===a.length)c=!0;else if(this.isObject(a)){c=!0;for(b in a){c=!1;break}}return c},isArrayLike:function(a){var b,c;return c=!1,this.isObject(a)&&!this.isWindow(a)&&(b=a.length,(1===a.nodeType&&b||!this.isArray(a)&&!this.isFunction(a)&&(0===b||this.isNumber(b)&&b>0&&b-1 in a))&&(c=!0)),c}},i(),c=function(a,b){return f(null!=a?a.handlers:void 0,a,null!=b?b:{})},k.methods.each(k.methods,function(a,b){return g(a),c[b]=a}),a[d.name]=c});