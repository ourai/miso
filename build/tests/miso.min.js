/*! miso 2014-04-02 */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n;d={name:"Miso",version:"0.1.1"},l=Object.prototype.toString,e=/^[0-9A-Z_.]+[^_.]?$/i,j={validator:function(){}},k={core:{},types:{},modules:{Core:{BuiltIn:null}}},i=function(a){var b;return b=null,n.isString(a)&&e.test(a)&&(b=k.modules,n.each(a.split("."),function(a){return void 0===b[a]&&(b[a]={}),b=b[a]})),b},g=function(a,b,c,d){var h;return h=this,n.isArray(c)?n.each(c,function(b){return g.apply(h,[n.isString(b[1])&&e.test(b[1])?i(b[1]):a,b.handlers,b,d])}):n.isObject(c)&&n.each(b,function(b){return f.apply(h,[a,b,c,d])}),!0},f=function(a,b,c,d){var e,f,g,h,i,l,m,o,p;if(h=b.name,f=this,!n.isFunction(a[h])){for(e=b.handler,m=void 0===b.value?c.value:b.value,l=[b.validator,c.validator,j.validator,function(){}],o=0,p=l.length;p>o&&(i=l[o],!n.isFunction(i));o++);g=function(){return i.apply(f,arguments)===!0&&n.isFunction(e)?e.apply(f,arguments):m},a[h]=g,d===!0?(k.core[h]=g,n.mixin(f,k.core)):n.mixin(f,a)}return!0},b=function(){function a(){}return a.prototype.mixin=function(){var a,b,c,d,e,f,g,h;for(a=arguments,d=a.length,g=null!=(h=a[0])?h:{},c=1,1===d&&(g=this,c--);d>c;){if(f=a[c],"object"==typeof f)for(e in f)b=f[e],b!==g&&void 0!==b&&(g[e]=b);c++}return g},a.prototype.each=function(a,b){var c,d,e,f,g;if(f=this.type(a),"object"===f||"function"===f){for(e in a)if(g=a[e],b.apply(g,[g,e,a])===!1)break}else if("array"===f||"string"===f)for(d=0;d<a.length&&(c="array"===f?a[d]:a.charAt(d),b.apply(a[d],[c,d++,a])!==!1););return a},a.prototype.type=function(a){return null==a?String(a):k.types[l.call(a)]||"object"},a}(),n=new b,h=function(){var a;for(a in n)k.core[a]=n[a];return k.modules.Core.BuiltIn=n},n.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a){var b;return b=a.toLowerCase(),k.types["[object "+a+"]"]=b,a="is"+a,n[a]=function(a){return this.type(a)===b}}),h(),c=function(){function a(){var b,c,d,e;this.constructor=a,b=arguments,c=b[0],e=b[1],d=b[2],2===b.length&&(d=e),g.apply(this,[i(e),c.handlers,c,d===!0])}return a.prototype.toString=function(){return"[object "+d.name+"]"},a.prototype.add=function(a){return f(a)},a}(),n.mixin(c,{toString:function(){return"function "+d.name+"() { [native code] }"},modules:k.modules,config:function(a){return n.mixin(j,a)}}),m=c,a[d.name]=m});